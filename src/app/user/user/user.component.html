<div class="col-md-6 user-container">
  <h2 class="text-center">Cliente</h2>
  <form novalidate="" class="ng-pristine ng-valid ng-touched">
    <div class="hidden">
      <input type="hidden" formcontrolname="id" placeholder="id" name="id" id="id" readonly
        class="form-control ng-untouched ng-pristine ng-valid" ng-reflect-name="id" value="1">
    </div>

    <label class="block-title">Nome: <fa-icon (click)="toggleBlock('name')" class="toggle-block"
        [icon]="blockName ? faChevronDown : faChevronUp"></fa-icon></label>
    <div class="form-row" *ngIf="!blockName">
      <div class="form-group col-md-6">
        <label for="nome">Nome:</label>
        <input value="{{user.nome}}" readonly name="nome" id="nome"
          class="form-control ng-pristine ng-valid ng-touched">
      </div>
      <div class="form-group col-md-6">
        <label for="cognome">Cognome/Rag.Soc.:</label>
        <input formcontrolname="cognome" value="{{user.cognome}}" readonly name="cognome" id="cognome"
          class="form-control ng-untouched ng-pristine ng-valid">
      </div>
    </div>

    <label class="block-title">Informazioni di residenza: <fa-icon (click)="toggleBlock('city')" class="toggle-block"
        [icon]="blockCity ? faChevronDown : faChevronUp"></fa-icon></label>
    <div class="form-row" *ngIf="!blockCity">
      <div class="form-group col-md-4">
        <label for="citta">Comune</label>
        <input formcontrolname="indirizzoResidenza" value="{{user.comune}}" readonly name="indirizzoResidenza"
          id="indirizzoResidenza" class="form-control ng-untouched ng-pristine ng-valid">
      </div>
      <div class="form-group col-md-1">
        <label for="provincia">Prov.</label>
        <input formcontrolname="provincia" value="{{user.provincia}}" readonly name="provincia" id="provincia"
          class="form-control ng-untouched ng-pristine ng-valid">
      </div>
      <div class="form-group col-md-2">
        <label for="CAP">CAP</label>
        <input formcontrolname="CAP" value="{{user.CAP}}" readonly name="CAP" id="CAP"
          class="form-control ng-untouched ng-pristine ng-valid">
      </div>
      <div class="form-group col-md-4">
        <label for="indirizzoResidenza">Via:</label>
        <input formcontrolname="indirizzoResidenza" value="{{user.indirizzoResidenza}}" readonly
          name="indirizzoResidenza" id="indirizzoResidenza" class="form-control ng-untouched ng-pristine ng-valid">
      </div>
      <div class="form-group col-md-1">
        <label for="civico">Numero:</label>
        <input formcontrolname="civico" value="{{user.civico}}" readonly name="civico" id="civico"
          class="form-control ng-untouched ng-pristine ng-valid">
      </div>
    </div>

    <label class="block-title">Informazioni anagrafiche:<fa-icon (click)="toggleBlock('anagrafica')"
        class="toggle-block" [icon]="blockAnagrafica ? faChevronDown : faChevronUp"></fa-icon></label>
    <div class="form-row" *ngIf="!blockAnagrafica">
      <div class="form-group col-md-6">
        <label for="dataNascita">Data di nascita:</label>
        <input formcontrolname="dataNascita" placeholder="{{user.dataNascita | date:'dd/MM/yyyy'}}" readonly
          name="dataNascita" id="dataNascita" class="form-control ng-untouched ng-pristine ng-valid">
      </div>
      <div class="form-group col-md-6">
        <label for="codiceFiscale">Codice Fiscale:</label>
        <input formcontrolname="codiceFiscale" value="{{user.codiceFiscale}}" readonly name="codiceFiscale"
          id="codiceFiscale" class="form-control ng-untouched ng-pristine ng-valid">
      </div>
      <div class="form-group col-md-6">
        <label for="partitaIva">P.IVA:</label>
        <input formcontrolname="partitaIva" value="{{user.partitaIva}}" readonly name="partitaIva" id="partitaIva"
          class="form-control ng-untouched ng-pristine ng-valid">
      </div>
      <div class="form-group col-md-6">
        <label for="sdi">SDI:</label>
        <input formcontrolname="sdi" value="{{user.sdi}}" readonly name="sdi" id="sdi"
          class="form-control ng-untouched ng-pristine ng-valid">
      </div>
      <div class="form-group col-md-12">
        <label for="iban">IBAN:</label>
        <input formcontrolname="iban" value="{{user.iban}}" readonly name="iban" id="iban"
          class="form-control ng-untouched ng-pristine ng-valid">
      </div>
    </div>

    <label class="block-title">Contatti: <fa-icon (click)="toggleBlock('contact')" class="toggle-block"
        [icon]="blockContact ? faChevronDown : faChevronUp"></fa-icon></label>
    <div class="form-row" *ngIf="!blockContact">
      <div class="form-group col-md-6">
        <label for="cellulare">Cellulare:</label>
        <div class="input">
          <a href="{{'tel:' + user.cellulare}}">{{user.cellulare}}</a>
        </div>
      </div>
      <div class="form-group col-md-6">
        <label for="telCasa">Telefono 1:</label>
        <div class="input">
          <a href="{{'tel:' + user.telCasa}}">{{user.telCasa}}</a>
        </div>
      </div>
      <div class="form-group col-md-6">
        <label for="telUfficio">Telefono 2:</label>
        <div class="input">
          <a href="{{'tel:' + user.telUfficio}}">{{user.telUfficio}}</a>
        </div>
      </div>
      <div class="form-group col-md-6">
        <label for="email">Email:</label>
        <div class="input">
          <a href="{{'mailto:' + user.email}}">{{user.email}}</a>
        </div>
      </div>
      <div class="form-group col-md-6">
        <label for="secondaEmail">Email 2:</label>
        <div class="input">
          <a href="{{'mailto:' + user.secondaEmail}}">{{user.secondaEmail}}</a>
        </div>
      </div>
      <div class="form-group col-md-6">
        <label for="PEC">PEC:</label>
        <input formcontrolname="PEC" value="{{user.PEC}}" readonly name="PEC" id="PEC"
          class="form-control ng-untouched ng-pristine ng-valid">
      </div>

    </div>

    <label class="block-title">Altre informazioni: <fa-icon (click)="toggleBlock('other')" class="toggle-block"
        [icon]="blockOther ? faChevronDown : faChevronUp"></fa-icon></label>
    <div class="form-row" *ngIf="!blockOther">
      <div class="form-group col-md-6">
        <label for="occupazione">Occupazione:</label>
        <input formcontrolname="occupazione" value="{{user.occupazione}}" readonly name="occupazione"
          id="occupazione" class="form-control ng-untouched ng-pristine ng-valid">
      </div>
      <div class="form-group col-md-6">
        <label for="hobby">Info:</label>
        <textarea rows="4" formcontrolname="hobby" value="{{user.hobby}}" readonly name="hobby" id="hobby"
          class="form-control ng-untouched ng-pristine ng-valid"></textarea>
      </div>
      <div class="form-group col-md-12">
        <label for="note">Collegamenti:</label>
        <div style="height:auto;min-height: 38px;" id="note" class="form-control" [tagDirective]="user.note"></div>
      </div>
    </div>

    <label class="block-title">Gestione interna: <fa-icon (click)="toggleBlock('internal')" class="toggle-block"
        [icon]="blockInternal ? faChevronDown : faChevronUp"></fa-icon></label>
    <div class="form-row" *ngIf="!blockInternal">
      <div class="form-group col-md-6">
        <label for="collaboratore">Assegnato a:</label>
        <input formcontrolname="collaboratore" value="{{user.collaboratore}}" readonly name="collaboratore"
          id="collaboratore" class="form-control ng-untouched ng-pristine ng-valid">
      </div>
      <div class="form-group col-md-6">
        <label for="collaboratore1">Assegnato a:</label>
        <input formcontrolname="collaboratore1" value="{{user.collaboratore1}}" readonly name="collaboratore"
          id="collaboratore1" class="form-control ng-untouched ng-pristine ng-valid">
      </div>      
      <div class="form-group col-md-6">
        <label for="tipoContatto">Tipo Contatto:</label>
        <input formcontrolname="tipoContatto" value="{{user.tipoContatto}}" readonly name="tipoContatto"
          id="tipoContatto" class="form-control ng-untouched ng-pristine ng-valid">
      </div>
      <div class="form-group col-md-6">
        <label for="tipoContatto2">Tipo Contatto 2:</label>
        <input formcontrolname="tipoContatto2" value="{{user.tipoContatto2}}" readonly name="tipoContatto2"
          id="tipoContatto2" class="form-control ng-untouched ng-pristine ng-valid">
      </div>
    </div>

    <label class="block-title">Dati Aggiuntivi: <fa-icon (click)="toggleBlock('data')" class="toggle-block"
        [icon]="blockData ? faChevronDown : faChevronUp"></fa-icon></label>
    <div class="form-row" *ngIf="!blockData">
      <div class="form-group col-md-6">
        <label for="datiAggiuntivi">Dati Aggiuntivi:</label>
        <textarea rows="4" formcontrolname="datiAggiuntivi" value="{{user.datiAggiuntivi}}" readonly
          name="datiAggiuntivi" id="datiAggiuntivi" class="form-control ng-untouched ng-pristine ng-valid"></textarea>
      </div>
    </div>

  </form>

  <div class="tab-container border-table">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <a class="nav-link item" [ngClass]="{'active' : tabs.polizze}" (click)="setActiveTab('polizze')">Polizze</a>
      </li>
      <li class="nav-item">
        <a class="nav-link item" [ngClass]="{'active' : tabs.EC}" (click)="setActiveTab('EC')">EC</a>
      </li>
      <li class="nav-item">
        <a class="nav-link item" [ngClass]="{'active' : tabs.documenti}" (click)="setActiveTab('documenti')">Documenti</a>
      </li>
      <li class="nav-item">
        <a class="nav-link item" [ngClass]="{'active' : tabs.sinistri}" (click)="setActiveTab('sinistri')">Sinistri</a>
      </li>
      <li class="nav-item">
        <a class="nav-link item" [ngClass]="{'active' : tabs.promemoria}" (click)="setActiveTab('promemoria')">Promemoria</a>
      </li>
    </ul>

    <span class="file-list" *ngIf="tabs.polizze">  
      <table *ngIf="fileList.length" class="row-border hover table">
        <thead class="border-table">
          <tr>
            <th (click)="orderBy('numero','file')">Numero</th>
            <th (click)="orderBy('data','file')">Scadenza</th>
            <th (click)="orderBy('note','file')">Note</th>
            <th (click)="orderBy('sottotipoDoc','file')">Compagnia</th>
            <th (click)="orderBy('targa','file')">Targa</th>
            <th>File</th>
            <th></th>
          </tr>
        </thead>
        <tbody class="border-table">
          <tr class="item" *ngFor="let file of fileList">
            <td (click)="showHideDoc(file,true)">{{file.numero}}</td>
            <td (click)="showHideDoc(file,true)">{{file.data | date:'dd/MM/yyyy'}}</td>
            <td (click)="showHideDoc(file,true)">{{limitString(file.note)}}</td>
            <td (click)="showHideDoc(file,true)">{{file.sottotipoDoc}}</td>
            <td (click)="showHideDoc(file,true)">{{file.targa}}</td>
            <td class="item-file" (click)="getFile(file.fileName)">{{file.fileName}}</td>
            <td class="buttons">
              <button class="btn btn-danger" (click)="deleteFile(file)">Cancella</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="!fileList.length" class="row-border hover table no-result">
        Non ci sono polizze
      </div>
    </span>

    <span class="doc-list" *ngIf="tabs.EC">
      <table *ngIf="ecList.length" class="row-border hover table">
        <thead class="border-table">
          <tr>
            <th (click)="orderBy('tipoDoc','ec')">Tipo</th>
            <th (click)="orderBy('data','ec')">Scadenza</th>
            <th (click)="orderBy('note','ec')">Note</th>
            <th (click)="orderBy('sottotipoDoc','ec')">Tipologia</th>
            <th (click)="orderBy('sottotipoDoc','targa')">Targa</th>
            <th>File</th>
            <th></th>
          </tr>
        </thead>
        <tbody class="border-table">
          <tr class="item" *ngFor="let ec of ecList">
            <td (click)="showHideDoc(ec,true)">{{ec.tipoDoc}}</td>
            <td (click)="showHideDoc(ec,true)">{{ec.data | date:'dd/MM/yyyy'}}</td>
            <td (click)="showHideDoc(ec,true)">{{limitString(ec.note)}}</td>
            <td (click)="showHideDoc(ec,true)">{{ec.sottotipoDoc}}</td>
            <td (click)="showHideDoc(ec,true)">{{ec.targa}}</td>
            <td class="item-file" (click)="getFile(ec.fileName)">{{ec.fileName}}</td>
            <td class="buttons">
              <button class="btn btn-danger" (click)="deleteFile(ec)">Cancella</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="!ecList.length" class="row-border hover table no-result">
        Non ci sono documenti EC
      </div>
    </span>
  
    <span class="doc-list" *ngIf="tabs.documenti">
      <table *ngIf="docList.length" class="row-border hover table">
        <thead class="border-table">
          <tr>
            <th (click)="orderBy('tipoDoc','docs')">Tipo</th>
            <th (click)="orderBy('data','docs')">Scadenza</th>
            <th (click)="orderBy('note','docs')">Note</th>
            <th (click)="orderBy('sottotipoDoc','docs')">Tipologia</th>
            <th (click)="orderBy('sottotipoDoc','targa')">Targa</th>
            <th>File</th>
            <th></th>
          </tr>
        </thead>
        <tbody class="border-table">
          <tr class="item" *ngFor="let doc of docList">
            <td (click)="showHideDoc(doc,true)">{{doc.tipoDoc}}</td>
            <td (click)="showHideDoc(doc,true)">{{doc.data | date:'dd/MM/yyyy'}}</td>
            <td (click)="showHideDoc(doc,true)">{{limitString(doc.note)}}</td>
            <td (click)="showHideDoc(doc,true)">{{doc.sottotipoDoc}}</td>
            <td (click)="showHideDoc(doc,true)">{{doc.targa}}</td>
            <td class="item-file" (click)="getFile(doc.fileName)">{{doc.fileName}}</td>
            <td class="buttons">
              <button class="btn btn-danger" (click)="deleteFile(doc)">Cancella</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="!docList.length" class="row-border hover table no-result">
        Non ci sono documenti
      </div>
    </span>

    <span class="file-list" *ngIf="tabs.sinistri"> 
      <table *ngIf="sinistroList.length" class="row-border hover table">
        <thead class="border-table">
          <tr>
            <th (click)="orderBy('numero','file')">Numero</th>
            <th (click)="orderBy('data','file')">Data</th>
            <th (click)="orderBy('tipo','file')">Tipo</th>
            <th (click)="orderBy('targa','file')">Targa</th>
            <th (click)="orderBy('file','file')">File</th>
            <th>File</th>
            <th></th>
          </tr>
        </thead>
        <tbody class="border-table">
          <tr class="item" *ngFor="let sinistro of sinistroList">
            <td (click)="showHideDoc(sinistro,true)">{{sinistro.numero}}</td>
            <td (click)="showHideDoc(sinistro,true)">{{sinistro.data | date:'dd/MM/yyyy'}}</td>
            <td (click)="showHideDoc(sinistro,true)">{{sinistro.sottotipoDoc}}</td>
            <td (click)="showHideDoc(sinistro,true)">{{sinistro.targa}}</td>
            <td class="item-file" (click)="getFile(sinistro.fileName)">{{sinistro.fileName}}</td>
            <td class="buttons">
              <button class="btn btn-danger" (click)="deleteFile(sinistro)">Cancella</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="!sinistroList.length" class="row-border hover table no-result">
        Non ci sono sinistri
      </div>
    </span>

    <span class="doc-list" *ngIf="tabs.promemoria">
      <table *ngIf="promemoriaList.length" class="row-border hover table">
        <thead class="border-table">
          <tr>
            <th (click)="orderBy('tipoDoc','docs')">Tipo</th>
            <th (click)="orderBy('data','docs')">Scadenza</th>
            <th (click)="orderBy('note','docs')">Note</th>
            <th (click)="orderBy('sottotipoDoc','docs')">Tipologia</th>
            <th (click)="orderBy('sottotipoDoc','targa')">Targa</th>
            <th>File</th>
            <th></th>
          </tr>
        </thead>
        <tbody class="border-table">
          <tr class="item" *ngFor="let promemoria of promemoriaList">
            <td (click)="showHideDoc(promemoria,true)">{{promemoria.tipoDoc}}</td>
            <td (click)="showHideDoc(promemoria,true)">{{promemoria.data | date:'dd/MM/yyyy'}}</td>
            <td (click)="showHideDoc(promemoria,true)">{{limitString(promemoria.note)}}</td>
            <td (click)="showHideDoc(promemoria,true)">{{promemoria.sottotipoDoc}}</td>
            <td (click)="showHideDoc(promemoria,true)">{{promemoria.targa}}</td>
            <td class="item-file" (click)="getFile(promemoria.fileName)">{{promemoria.fileName}}</td>
            <td class="buttons">
              <button class="btn btn-danger" (click)="deleteFile(promemoria)">Cancella</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="!promemoriaList.length" class="row-border hover table no-result">
        Non ci sono promemoria.
      </div>
    </span>
  
  </div>

 

  <div class="choose-doc">
    Scegli tipo documento da caricare:
    <select class="custom-select small" (change)="onSelectChange(tipoDoc)" [(ngModel)]="tipoDoc">
      <option *ngFor="let doc of tipoDocs" [ngValue]="doc">{{doc}}</option>
    </select>
  </div>

  <button class="add-btn" (click)="showHideDoc()">Inserisci {{tipoDoc}}</button> <br>

  <div (click)="showHideDoc()" class="outer-elem" *ngIf="docSection"></div>
  <div class="upload-group modal-window" *ngIf="docSection">
    <span class="title-note">
      <span class="title-note">
        <b>{{tipoDoc}}</b>
        <div class="close-modal" (click)="showHideDoc()">
          <fa-icon [icon]="faWindowClose"></fa-icon>
        </div>
      </span>
    </span>
    <hr>
    <div class="modal-container">
      <div class="grid-container">
      <span>
        <div class="form-group col-md-12">
          <label for="numero">Numero:</label>
          <input placeholder="numero" name="numero" [(ngModel)]="numero" id="numero"
            class="form-control ng-untouched ng-pristine ng-valid">
        </div>
      </span>
      <span>
        <div class="form-group col-md-12">
          <label for="targa">Targa:</label>
          <input placeholder="targa" name="targa" [(ngModel)]="targa" id="targa"
            class="form-control ng-untouched ng-pristine ng-valid w-50">
        </div>
      </span>
      <span *ngIf="tipoDoc!=='sinistro'">
        <div class="form-group col-md-12">
          <label for="premioRata">Premio Rata:</label>
          <input placeholder="premioRata" name="premioRata" [(ngModel)]="premioRata" id="premioRata"
            class="form-control ng-untouched ng-pristine ng-valid w-50">
        </div>
      </span>
      <div class="sottotipodoc-section form-group col-md-12" *ngIf="tipoDoc==='sinistro'">
        <label for="sottotipodoc">Tipo: </label><br>
        <select class="custom-select small" [(ngModel)]="sottotipoDoc">
          <option *ngFor="let sottotipo of sottotipoDocs" [ngValue]="sottotipo">{{sottotipo}}</option>
        </select>
      </div>
      <div class="sottotipodoc-section form-group col-md-12">
        <span *ngIf="tipoDoc!=='libretto di circolazione'">
          <label>{{tipoDoc === 'sinistro' ? 'Data avvenimento' : 'Data di scadenza'}}:</label>
          <div class="form-group">
            <input class="form-control w-75 small" id="dataScadenzaDoc" placeholder="Scegli Data" [ngxDatePicker]="dateInstanceSingle"
              [value]="singleDate" (focusout)="onFocusOutEvent($event)" (valueChange)="onChangeSingle($event)">
            <ngx-date-picker #dateInstanceSingle [options]="singleDatePickerOptions"></ngx-date-picker>
          </div>
        </span>
        </div>
      <div class="sottotipodoc-section form-group col-md-12"
        *ngIf="tipoDoc==='polizza' || tipoDoc==='preventivo' || tipoDoc==='documento' || tipoDoc==='SIC'">
        <label for="sottotipodoc">{{(tipoDoc==='polizza' || tipoDoc==='SIC') ? 'Compagnia':'Tipo'}} : </label><br>
        <select class="custom-select small" [(ngModel)]="sottotipoDoc">
          <option *ngFor="let sottotipo of sottotipoDocs" [ngValue]="sottotipo">{{sottotipo}}</option>
        </select>
      </div>
      <span *ngIf="tipoDoc==='sinistro'">
        <div class="form-group col-md-12">
          <label for="dataApertura">Data apertura: </label>
          <div class="form-group">
            <input class="form-control w-75 small" id="dataApertura" placeholder="Scegli Data" [ngxDatePicker]="dateInstanceAperturaSingle"
              [value]="singleDateApertura" (focusout)="onFocusOutEventApertura($event)" (valueChange)="onChangeSingleApertura($event)">
            <ngx-date-picker #dateInstanceAperturaSingle [options]="singleDatePickerOptions"></ngx-date-picker>
          </div>
        </div>
      </span> 
      <span *ngIf="tipoDoc==='sinistro'">
        <div class="form-group col-md-12">
          <label for="dataLiquidazione">Data liquidazione: </label>
          <div class="form-group">
            <input class="form-control w-75 small" id="dataLiquidazione" placeholder="Scegli Data" [ngxDatePicker]="dateInstanceLiquidazioneSingle"
              [value]="singleDateLiquidazione" (focusout)="onFocusOutEventLiquidazione($event)" (valueChange)="onChangeSingleLiquidazione($event)">
            <ngx-date-picker #dateInstanceLiquidazioneSingle [options]="singleDatePickerOptions"></ngx-date-picker>
          </div>
        </div>
      </span> 
      <span *ngIf="tipoDoc==='sinistro'">
        <div class="form-group col-md-12">
          <label for="premioRata">Importo liquidazione:</label>
          <input placeholder="premioRata" name="premioRata" [(ngModel)]="premioRata" id="premioRata"
            class="form-control ng-untouched ng-pristine ng-valid w-50">
        </div>
      </span>  
      <span *ngIf="tipoDoc!=='sinistro'">
        <div class="form-group col-md-12">
          <label>Frazionamento:</label><br>
          <select class="custom-select small" [(ngModel)]="frazionamentoDoc">
            <option *ngFor="let frazionamento of frazionamenti" [ngValue]="frazionamento">{{frazionamento}}</option>
          </select>
        </div>
      </span>
      <span *ngIf="isPromemoria(tipoDoc)">
        <div class="form-group col-md-12">
          <label for="inviaAvvisoA">Invia avviso a:</label>
          <input placeholder="inviaAvvisoA" name="inviaAvvisoA" [(ngModel)]="inviaAvvisoA" id="inviaAvvisoA"
            class="form-control ng-untouched ng-pristine ng-valid w-100">
        </div>
      </span>
      <span *ngIf="tipoDoc==='polizza'">
        <div class="form-group col-md-12">
          <label for="competenze">Competenze</label>
          <input placeholder="competenze" name="competenze" [(ngModel)]="competenze" id="competenze"
            class="form-control ng-untouched ng-pristine ng-valid w-100">
        </div>
      </span>    
    </div>
    <span>
      <div class="form-group col-md-12">
        <label for="note-doc">Note:</label>
        <textarea rows="6" placeholder="testo" name="noteDoc" id="noteDoc" [(ngModel)]="noteDoc"
          class="form-control ng-untouched ng-pristine ng-valid"></textarea>
      </div>
    </span>
      <span>
        <div class="form-group col-md-12">
          <label for="note-doc">File:</label>
          <span class="item-file" (click)="getFile(fileName)">{{fileName}}</span>
        </div>
      </span>
      <div class="btn-doc-container">
        <input [formControl]="file" (change)="fileChange(index,$event)" type="file" placeholder="File">
        <button style="margin-top:20px" (click)="uploadFile(editDoc)" mat-raised-button color="primary">
          {{editDoc ? 'Sostituisci il file' : 'Carica e Salva'}}
        </button> (Max 50Mb)
      </div>
      <hr *ngIf="editDoc">
      <div class="btn-doc-container" *ngIf="editDoc">
        <button class="btn btn-warning" (click)="editDocument()" mat-raised-button
          color="primary">
          Modifica
        </button>
      </div>
      <div *ngIf="uploading" class="uploading">
        Caricamento in corso...
      </div>
    </div>

  </div>
  <br>
  <span class="note-list">
    <span class="note-list-title" *ngIf="noteList.length">Note:</span>
    <table *ngIf="noteList.length" class="row-border hover note table">
      <thead>
        <tr>
          <th>Data</th>
          <th>Titolo</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr class="item" *ngFor="let note of noteList">
          <td (click)="showNote(note)">{{note.data | date:'dd/MM/yyyy'}}</td>
          <td (click)="showNote(note)">{{note.titolo }}</td>
          <td class="buttons">
            <button class="btn btn-danger" (click)="deleteNote(note)">Cancella</button>
          </td>
        </tr>
      </tbody>
    </table>
  </span>
  <br>
  <button class="add-btn" (click)="showHideNote()">Inserisci Note</button>
  <!-- modale NOTE -->
  <div (click)="showHideNote()" class="outer-elem" *ngIf="noteSection"></div>
  <div class="note-group modal-window" *ngIf="noteSection">
    <span class="title-note">
      <b>{{noteEdit ? 'Modifica':'Inserisci'}} Nota</b>
      <div class="close-modal" (click)="showHideNote()">
        <fa-icon [icon]="faWindowClose"></fa-icon>
      </div>
    </span>
    <div class="form-group col-md-6">
      <label for="titolo">Titolo:</label>
      <input placeholder="titolo" name="titolo" [(ngModel)]="noteTitle" id="titolo"
        class="form-control ng-untouched ng-pristine ng-valid">
    </div>
    <div class="form-group col-md-12">
      <label for="testo">Testo:</label>
      <textarea rows="4" [(ngModel)]="noteText" placeholder="testo" name="testo" id="testo"
        class="form-control ng-untouched ng-pristine ng-valid"></textarea>
    </div>
    <button style="margin-top:20px" *ngIf="!noteEdit" (click)="addNote()" mat-raised-button color="primary">
      Inserisci
    </button>
    <div class="btn-doc-container" *ngIf="noteEdit">
      <button style="margin-top:20px" class="btn btn-warning" (click)="editNote()" mat-raised-button
        color="primary">
        Modifica
      </button>
    </div>
  </div>

  <footer class="footer">
    <div class="edit-user-container">
      <span (click)="editUser()">Modifica Utente </span>
      <fa-icon [icon]="faEdit"></fa-icon>
    </div>
  </footer>
</div>